{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block page_actions %}
<div class="row">
    <div class="col-sm-12 col-12 table-responsive">
        <div class="card card-outline card-primary">
            <div class="card-header">
                <h3 class="card-title"><i class="fas {{ datos.opcionmenu.icono }}"></i> Detalle {{ datos.opcionmenu }} [{{ datos.concepto }}] | {{ datos.nombreempresa }} </h3>			
            </div>
        </div>
    </div><!-- /.col -->
</div><!-- /.row -->

{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-12 col-12 col-sm-12 table-responsive">
        <div class="card">
            <div class="card-body">
                <table id="detalleordenes" class="table table-sm table-bordered table-striped">
                    <thead>
                        <tr style='font-size: 12px'>
                        <th>Fecha</th>
                        <th>Factura</th>
                        <th>Tipo Vta</th>
                        <th>Cliente</th>
                        <th style="width:10px">Parte</th>
                        <th style="width:100px">Descripcion</th>
                        <th>Cantidad</th>
                        <th style="text-align: right">Venta</th>
                        <th style="text-align: right">Costo</th>
                        <th style="text-align: right">Utilidad</th>
                        <th style="text-align: right">%</th>
                        <th style="width:100px">Empleado</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in datos.tablaordenes %}
                        <tr style="font-size: 12px">
                            <td style='font-size: 12px'>{{ row.fecha }}</td>
                            <td style='font-size: 12px'>{{ row.factura }}</td>
                            <td style='font-size: 12px'>{{ row.tipovta }}</td>
                            <td style='font-size: 12px'>{{ row.cliente }}</td>
                            <td style='font-size: 12px'>{{ row.codigo }}</td>
                            <td style='font-size: 12px'>{{ row.articulo }}</td>
                            <td style='font-size: 12px'>{{ row.cant }}</td>
                            <td style='font-size: 12px; text-align: right'>{{ row.venta|floatformat:0|intcomma }}</td>
                            <td style='font-size: 12px; text-align: right'>{{ row.costo|floatformat:0|intcomma }}</td>
                            <td style='font-size: 12px; text-align: right'>{{ row.utilidad|floatformat:0|intcomma }}</td>
                            <td style='font-size: 12px; text-align: right'>{{ row.porcutil|floatformat:0|intcomma }}</td>
                            <td style='font-size: 12px'>{{ row.empleado}}</td>
                            
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}
<script>
    $(function () {
      $("#detalleordenes").DataTable({
        "ordering": true,
        "order":[[1, "desc"]],
        "responsive": true,
        "autoWidth": true,
        "searching":true,
        "lengthChange": true,
        "paginate": true,
      });
      
    });
  </script>
{% endblock %}